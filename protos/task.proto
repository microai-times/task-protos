syntax = "proto3";

package taskcenter;

option go_package = "microai.times/protos";
option java_multiple_files = true;
option java_package = "times.microai.protos";
option java_outer_classname = "TaskProto";

import "compression.proto";


message Task {
  string task_id = 1;
  bytes payload = 2;  // 可包含Protobuf序列化的模型参数
  int32 timeout_sec = 3;
  CompressionType compression = 4;
  uint32 original_size = 5;
}

// 计算任务参数
message ComputeTask {
  string task_id = 1;          // 任务唯一标识
  string model_id = 2;         // 需要的模型标识
  string input_data_ref = 3;   // 输入数据引用(URL/ID)
  repeated string output_layers = 4; // 需要输出的层名称
  string source_node = 5;      // 数据来源节点ID(可选)
}